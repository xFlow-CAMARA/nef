# 3GPP Monitoring Event Service

## Overview

The **3GPP Monitoring Event Service** provides northbound interfaces for monitoring event exposure in accordance with [3GPP TS 29.122](https://github.com/jdegre/5GC_APIs/blob/Rel-18/TS29122_MonitoringEvent.yaml). This service enables external applications to subscribe and receive notifications about UE-specific events exposed by the 5G Core Network.

## API Specification

Reference OpenAPI document:
[TS 29.122 Monitoring Event - OpenAPI Definition](https://github.com/jdegre/5GC_APIs/blob/Rel-18/TS29122_MonitoringEvent.yaml)

## Dependencies

- core network supporting event exposure
- ue-identity service to translate externalId to SUPI
- redis db to retrive user related data and to subscribe to event channels
- open-exposure libcapif library to interact with the open-exposure capif-service

## Configuration
Sample configuration:

```yaml
nbi:
  httpVersion: 1
  useTLS: no
  fqdn: 3gpp-monitoing-event
  port: 8080

sbi:
  identitySvc: http://identity-service:8080
  redisSvc: /redis:6379/
  httpVersion: 2

supportedFeatures: 3fff
capifSvc: http://capif-service:8080
```

## CAPIF Integration

- Uses `libcapif` library for communicating with capif service
- It register its own API to the Capif Core Function via the open-exposure capif service
- It supports logging and auditing functions via the libcapif integration
- It uses JWT token generated by the CAPIF Core Function to authorize API Invokers
- More info on the [capif-service](https://gitlab.eurecom.fr/open-exposure/nef/capif-service) gitlab repository

## Run Locally

``` bash
cd cmd/3gpp-monitoring-event/
go run main.go -c <path_to_config_file>
```